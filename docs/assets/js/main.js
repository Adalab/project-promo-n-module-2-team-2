"use strict";const contentCollapsable=document.querySelectorAll(".js_content"),headerCollapsables=document.querySelectorAll(".js_headerCollapsable");for(const e of headerCollapsables)e.addEventListener("click",handlerCollapsable);function handlerCollapsable(e){const t=e.currentTarget,r=t.nextElementSibling,n=t.querySelector(".js_arrow");for(const e of contentCollapsable)r===e?(e.classList.toggle("hidden"),e.classList.toggle("div_content"),n.classList.toggle("fa-chevron-down"),n.classList.toggle("fa-chevron-up")):(e.classList.add("hidden"),e.classList.remove("div_content"))}const inputColorPalettes=document.querySelectorAll(".input_palette"),nameCards=document.querySelector(".js_name_cards"),selectIcon=document.querySelectorAll(".js-icon"),sidebar=document.querySelector(".main__cards--section__sidebar"),iconCircle=document.querySelectorAll(".js-icon-circle"),previewSection=document.querySelector(".js-preview");for(const e of inputColorPalettes)e.addEventListener("click",handleDesignCard);function handleDesignCard(e){const t=e.currentTarget.value;console.log(t),previewSection.classList.remove("palette1"),previewSection.classList.remove("palette2"),previewSection.classList.remove("palette3"),previewSection.classList.add("palette"+t)}console.log(">> Ready :)");const resetFormButton=document.querySelector(".js_resetbutton"),inputReset=document.querySelector(".js_form");function handleResetFormButton(){inputReset.reset()}resetFormButton.addEventListener("click",handleResetFormButton);const buttonShare=document.querySelector(".js_button_share"),parrafoShare=document.querySelector(".js_parrafo_share"),sectionShare=document.querySelector(".js_share_twitter"),dataUser={palette:"",name:"",job:"",email:"",phone:"",linkedin:"",github:"",photo:""},form=document.querySelector(".js_form");function handlerFormData(e){const t=e.target.id,r=e.target.value;console.log(t,r),dataUser[t]=r,console.log(dataUser)}function handleCreateBtn(e){e.preventDefault(),fetch("https://awesome-profile-cards.herokuapp.com/card",{method:"POST",body:JSON.stringify(dataUser),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{sectionShare.classList.remove("hidden"),!0===e.success?parrafoShare.innerHTML=e.cardURL:parrafoShare.innerHTML="Error al crear la tarjeta, por favor revise los datos introducidos"})}form.addEventListener("change",handlerFormData),buttonShare.addEventListener("click",handleCreateBtn);const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");let photo="";function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage);return fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,fileField.setAttribute("value",fr.result),dataUser.photo=fr.result,console.log(photo)}function fakeFileClick(){fileField.click()}fileField.addEventListener("change",getImage);const inputTextElements=document.querySelectorAll(".js_inputtext"),textPreviewElements=document.querySelectorAll(".js_previewtext");function handlePreviewText(){textPreviewElements[0].innerHTML=inputTextElements[0].value,textPreviewElements[1].innerHTML=inputTextElements[1].value}for(const e of inputTextElements)e.addEventListener("change",handlePreviewText);const inputCardsLinks=document.querySelectorAll(".js_input_link");console.log(inputCardsLinks);const cardPreviewIcons=document.querySelectorAll(".js-icon-circle");function handleClickCardLinks(e){let t=e.currentTarget;"http://localhost:3000/cards.html"===t.href&&(t=e.preventDefault())}for(const e of cardPreviewIcons)e.addEventListener("click",handleClickCardLinks);function handleCardLinks(){cardPreviewIcons[1].setAttribute("href","mailto:"+inputCardsLinks[0].value),cardPreviewIcons[0].setAttribute("href","tel:+34"+inputCardsLinks[1].value),cardPreviewIcons[2].setAttribute("href","https://www.linkedin.com/in/"+inputCardsLinks[2].value),cardPreviewIcons[3].setAttribute("href","https://github.com/"+inputCardsLinks[3].value)}for(const e of inputCardsLinks)e.addEventListener("change",handleCardLinks);